<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta(s) -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Stylesheet(s) and Icons -->
    <link rel="icon" type="image/x-icon" href="/static/imgs/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="stylesheet" type="text/css" href="/static/css/phone.css">

    <!-- Title -->
    <title>Homepage | letter to the black world</title>
</head>

<body>
    <!-- Sidebar stuff -->
    <div class="sidebar-container">
        <div class="sidebar">
            <!-- avatar -->
            <div class="avatar">
                <img src="static/imgs/junko.png" alt="avatar"> </img>
            </div>

            <!-- name -->
            <h1>
                <a class='no-link' href="/">junko</a>
            </h1>

            <!-- intro -->
            <p class="domain">The Legendary Showa Idol</p>

            <!-- lists of stuff -->
            <div class="links">
                <ul>
                    <li>
                        <a href="/redirect.htm?r=github">github</a>
                    </li>

                    <li>
                        <a href="/redirect.htm?r=steam">steam</a>
                    </li>

                    <li>
                        <a href="/blog.htm">blog</a>
                    </li>

                    <li>
                        <a href="/stuff.htm">stuff</a>
                    </li>

                    <li class="quote">
                        <a class="no-link">Densetsu no Sh≈çwa aidoru.</a> <br />
                        <a class="no-link">Currently</a> <a id='discord-status' class="no-link">offline</a>.
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Content -->
    <div class="content-container">
        <div class="content">
            <i>
                <b>
                    <p> migrating... so nothing here for now :((( </p>
                </b>
            </i>
        </div>
    </div>

    <!-- Discord stuff -->
    <script type="text/javascript">
        console.log("hiyo!")

        // fetch user data from api
        api_endpoint = 'https://api.lanyard.rest/v1/users/224785877086240768';
        req = new XMLHttpRequest();
        req.open("GET", api_endpoint, true);
        req.onload = function () {
            console.log("get!");
            if (this.status == 200) {
                console.log("good!");
                var data = JSON.parse(this.response).data;
                var user = data.discord_user;
                var status = data.discord_status;

                // online stat
                var html_status = document.getElementById("discord-status");
                var color = ""

                switch (status) {
                    case 'online': html_status.text = "online"; color = "color: green;"; break;
                    case 'idle': html_status.text = "idling"; color = "color: yellow;"; break;
                    case 'dnd': html_status.text = "dnd"; color = "color: red;"; break;
                    case 'offline': html_status.text = "offline"; color = "color: gray;"; break;
                }

                html_status.style = color;

                console.log(html_status);
            }
        }
        req.send();
    </script>
</body>

</html>