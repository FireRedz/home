<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta(s) -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Embed Meta -->
    <!-- Primary Meta Tags -->
    <meta name="title" content="doomerposting | letter to the black world" />
    <meta name="description" content="internal redirect page" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://konno.ovh/" />
    <meta property="og:title" content="doomerposting | letter to the black world" />
    <meta property="og:description" content="internal redirect page" />
    <meta property="og:image" content="https://konno.ovh/static/imgs/preview.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://konno.ovh/" />
    <meta property="twitter:title" content="doomerposting | letter to the black world" />
    <meta property="twitter:description" content="internal redirect page" />
    <meta property="twitter:image" content="https://konno.ovh/static/imgs/preview.png" />


    <!-- Stylesheet(s) and Icons -->
    <link rel="icon" type="image/x-icon" href="/static/imgs/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="stylesheet" type="text/css" href="/static/css/phone.css">

    <!-- Title -->
    <title>doomerposting | letter to the black world</title>
</head>

<body>
<!-- Sidebar stuff -->
<div class="sidebar-container">
    <div class="sidebar">
        <!-- avatar -->
        <div class="avatar">
            <img src="../static/imgs/junko.png" alt="avatar"> </img>
        </div>

        <!-- name -->
        <h1>
            <a class='no-link' href="/">junko</a>
        </h1>

        <!-- intro -->
        <p class="domain">The Legendary Showa Idol</p>

        <!-- lists of stuff -->
        <div class="links">
            <ul>
                <li>
                    <a href="/redirect.html?r=github">github</a>
                </li>

                <li>
                    <a href="/redirect.html?r=steam">steam</a>
                </li>



                <li>
                    <a href="/stuff.html">stuff</a>
                </li>

                <li class="quote">
                    <a class="no-link">Densetsu no Shōwa aidoru.</a> <br />
                    <a class="no-link">Currently</a> <a id='discord-status' class="no-link">offline</a>.
                </li>

                <li>
                    <div id="smallvocaring">
                        <script src="../static/scripts/vocaloid.webring.js"></script>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

    <div class="content-container">
        <div class="content">
            <br />
<h1> Loading... </h1>
<a id="redirect-status"> Detecting arguments... </a>

<hr />
<div class="footer" style="position: relative;">
    <i>
        ©2020-2024 xjunko <<a href="https://github.com/xjunko/home">@github/xjunko/home</a>> <br />
            Powered by <a href="https://github.com/xjunko/home/tree/master/src">Magi v0.1.8 — simple microblogging
                processor</a>

            <a style="position: absolute; top: -5px; right: 0">
                <img src="https://moecount.lolihouse.top/get/@xjunko" height="50" style="border: none;">
            </a>
    </i>
</div>
        </div>





        <!-- Blog redirector -->
<div>
</div>

<script>
    // Some voodoo shit going on here
    // dont ask.
    const posts_map = {

        1: [

            "0",
        ],
    }

    // Common shortcuts
    const indexes = {
        "github": "https://github.com/xjunko",
        "steam": "https://steamcommunity.com/id/FireRedz/"
    }

    // Starts here
    const params = new URLSearchParams(window.location.search);
    const status_text = document.getElementById("redirect-status");

    status_text.style.fontWeight = "bold";
    status_text.style.fontSize = "32px";

    function fuck_right_of_to(url) {
        window.location.replace(url);
    }

    function handle_common_redirect(redirect_to) {
        if (!redirect_to || redirect_to == null) {
            status_text.textContent = "oops you did a fucky wucky :3333, returning to index."
            fuck_right_of_to("/")
        } else {
            if (redirect_to in indexes) {
                fuck_right_of_to(indexes[redirect_to]);
            } else {
                status_text.textContent = "invalid redirect."
                fuck_right_of_to("/")
            }
        }
    }

    function handle_blog_redirect(post_id) {
        if (!post_id) {
            status_text.textContent = "No parameter given, please give 'id'!!!";
        } else {
            status_text.textContent = "Hold on.";

            let found_the_shit = false;

            for (const [key, value] of Object.entries(posts_map)) {
                if (value.includes(post_id)) {
                    found_the_shit = true;
                    status_text.textContent = "Found the stuff.";
                    fuck_right_of_to("https://konno.ovh/blog/" + key + ".html#" + post_id);
                }
            }

            if (!found_the_shit) {
                status_text.textContent = `Did not found post: #` + post_id;
            }

        }
    }

    // Detect which param is passed, then go with that.
    if (params.get("r")) {
        handle_common_redirect(params.get("r"));
    } else {
        handle_blog_redirect(params.get("id"));
    }

</script>

        
    </div>

<script type="text/javascript">
    // fetch user data from api
    api_endpoint = 'https://api.lanyard.rest/v1/users/224785877086240768';
    req = new XMLHttpRequest();
    req.open("GET", api_endpoint, true);
    req.onload = function () {
        if (this.status == 200) {
            console.log("good!");
            var data = JSON.parse(this.response).data;
            var user = data.discord_user;
            var status = data.discord_status;

            // pfp then name
            try {
                var html_name = document.getElementById("discord-name");
                var avatarUrl = "https://cdn.discordapp.com/avatars/" + user.id + "/" + user.avatar + ".png?size=40";

                // Get request to the URL and see if it exists, if it returns 404, delete the element
                var avatar_check = new XMLHttpRequest();
                avatar_check.open("GET", avatarUrl, true);
                avatar_check.onload = function () {
                    if (this.status == 404) {
                        html_name.innerHTML = "<i>" + user.username + "</i>";
                    } else {
                        html_name.innerHTML = "<img class='discord-avatar' src='" + avatarUrl + "'> <i>" + user.username + "</i>";
                    }
                };
                avatar_check.send();

            } catch {
                console.log('[Discord] Failed to replace avatar component, probably doesnt exists...');
            }



            // online stat
            var html_status = document.getElementById("discord-status");
            var color = ""

            switch (status) {
                case 'online': html_status.text = "online"; color = "color: green;"; break;
                case 'idle': html_status.text = "idling"; color = "color: yellow;"; break;
                case 'dnd': html_status.text = "dnd"; color = "color: red;"; break;
                case 'offline': html_status.text = "offline"; color = "color: gray;"; break;
            }

            try {
                document.getElementById("discord-status-about").text = html_status.text;
                document.getElementById("discord-status-about").style = color;
            } catch {
                console.log('[Discord] Failed to replace name component, probably doesnt exists...');
            }

            html_status.style = color;

            console.log(html_status);
        }
    }

    req.send();
</script>
</body>

</html>
