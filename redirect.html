<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta(s) -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Embed Meta -->
    <!-- Primary Meta Tags -->
    <meta name="title" content="doomerposting | letter to the black world" />
    <meta name="description" content="internal redirect page" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://konno.ovh/" />
    <meta property="og:title" content="doomerposting | letter to the black world" />
    <meta property="og:description" content="internal redirect page" />
    <meta property="og:image" content="https://konno.ovh/static/imgs/preview.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://konno.ovh/" />
    <meta property="twitter:title" content="doomerposting | letter to the black world" />
    <meta property="twitter:description" content="internal redirect page" />
    <meta property="twitter:image" content="https://konno.ovh/static/imgs/preview.png" />


    <!-- Stylesheet(s) and Icons -->
    <link rel="icon" type="image/x-icon" href="/static/imgs/favicon.ico" />
    <link rel="stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="stylesheet" type="text/css" href="/static/css/phone.css">

    <!-- Title -->
    <title>doomerposting | letter to the black world</title>
</head>

<body>
<!-- Sidebar stuff -->
<div class="sidebar-container">
    <div class="sidebar">
        <!-- avatar -->
        <div class="avatar">
            <img src="../static/imgs/junko.png" alt="avatar"> </img>
        </div>

        <!-- name -->
        <h1>
            <a class='no-link' href="/">junko</a>
        </h1>

        <!-- intro -->
        <p class="domain">The Legendary Showa Idol</p>

        <!-- lists of stuff -->
        <div class="links">
            <ul>
                <li>
                    <a href="/redirect.html?r=github">github</a>
                </li>

                <li>
                    <a href="/redirect.html?r=steam">steam</a>
                </li>

                <li>
                    <a href="/blog/1.html">blog</a>
                </li>

                <li>
                    <a href="/stuff.html">stuff</a>
                </li>

                <li class="quote">
                    <a class="no-link">Densetsu no Shōwa aidoru.</a> <br />
                    <a class="no-link">Currently</a> <a id='discord-status' class="no-link">offline</a>.
                </li>

                <li>
                    <div id="smallvocaring">
                        <script src="../static/scripts/vocaloid.webring.js"></script>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

    <div class="content-container">
        <div class="content">
            <br />
<h1> Loading... </h1>
<a id="redirect-status"> Detecting arguments... </a>

<hr />
<div class="footer" style="position: relative;">
    <i>
        ©2020-2024 xjunko <<a href="https://github.com/xjunko/home">@github/xjunko/home</a>> <br />
            Powered by <a href="https://github.com/xjunko/home/tree/master/src">Magi v0.1.8 — simple microblogging
                processor</a>

            <a style="position: absolute; top: -5px; right: 0">
                <img src="https://moe-counter.glitch.me/get/@xjunko?theme=asoul" height="50" style="border: none;">
            </a>
    </i>
</div>
        </div>





        <!-- Blog redirector -->
<div>
</div>

<script>
    // Some voodoo shit going on here
    // dont ask.
    const posts_map = {

        1: [

            "1714710287",
            "1714558883",
            "1714482803",
            "1714396403",
            "1714223603",
            "1714213283",
            "1713014003",
            "1712572343",
            "1711778543",
            "1711326263",
            "1711315463",
            "1711229063",
            "1711182743",
            "1711142663",
            "1710969863",
            "1710624263",
            "1710365063",
            "1709673863",
            "1709155463",
            "1708809863",
        ],
        2: [

            "1708464263",
            "1707945863",
            "1707743122",
            "1707628986",
            "1707561134",
            "1707282982",
            "1707110182",
            "1706455502",
            "1705805536",
            "1704676756",
            "1704506394",
            "1704341509",
            "1704268389",
            "1703710542",
            "1703309854",
            "1703011724",
            "1702991910",
            "1702120384",
            "1701773200",
            "1701187727",
        ],
        3: [

            "1701155686",
            "1701155600",
            "1700946181",
            "1700945941",
            "1700148417",
            "1699621720",
            "1699097680",
            "1698296920",
            "1698217720",
            "1697363800",
            "1694316905",
            "1690919597",
            "1690075723",
            "1689610964",
            "1689610565",
            "1689440054",
            "1689437677",
            "1689431878",
            "1688749925",
            "1687728438",
        ],
        4: [

            "1687719518",
            "1687539414",
            "1687430942",
            "1687421383",
            "1687419676",
            "1687291421",
            "1687244838",
            "1687176398",
            "1687099685",
            "1678830296",
            "1678675496",
            "1677169075",
            "1676847134",
            "1671542296",
            "1671362755",
            "1666759601",
            "1662532576",
            "1661942210",
            "1660453926",
            "1660436683",
        ],
        5: [

        ],
    }

    // Common shortcuts
    const indexes = {
        "github": "https://github.com/xjunko",
        "steam": "https://steamcommunity.com/id/FireRedz/"
    }

    // Starts here
    const params = new URLSearchParams(window.location.search);
    const status_text = document.getElementById("redirect-status");

    status_text.style.fontWeight = "bold";
    status_text.style.fontSize = "32px";

    function fuck_right_of_to(url) {
        window.location.replace(url);
    }

    function handle_common_redirect(redirect_to) {
        if (!redirect_to || redirect_to == null) {
            status_text.textContent = "oops you did a fucky wucky :3333, returning to index."
            fuck_right_of_to("/")
        } else {
            if (redirect_to in indexes) {
                fuck_right_of_to(indexes[redirect_to]);
            } else {
                status_text.textContent = "invalid redirect."
                fuck_right_of_to("/")
            }
        }
    }

    function handle_blog_redirect(post_id) {
        if (!post_id) {
            status_text.textContent = "No parameter given, please give 'id'!!!";
        } else {
            status_text.textContent = "Hold on.";

            let found_the_shit = false;

            for (const [key, value] of Object.entries(posts_map)) {
                if (value.includes(post_id)) {
                    found_the_shit = true;
                    status_text.textContent = "Found the stuff.";
                    fuck_right_of_to("https://konno.ovh/blog/" + key + ".html#" + post_id);
                }
            }

            if (!found_the_shit) {
                status_text.textContent = `Did not found post: #` + post_id;
            }

        }
    }

    // Detect which param is passed, then go with that.
    if (params.get("r")) {
        handle_common_redirect(params.get("r"));
    } else {
        handle_blog_redirect(params.get("id"));
    }

</script>

        
    </div>

<script type="text/javascript">
    // fetch user data from api
    api_endpoint = 'https://api.lanyard.rest/v1/users/224785877086240768';
    req = new XMLHttpRequest();
    req.open("GET", api_endpoint, true);
    req.onload = function () {
        if (this.status == 200) {
            console.log("good!");
            var data = JSON.parse(this.response).data;
            var user = data.discord_user;
            var status = data.discord_status;

            // pfp then name
            try {
                var html_name = document.getElementById("discord-name");
                html_name.innerHTML = "<img class='discord-avatar' src='https://cdn.discordapp.com/avatars/" + user.id + "/" + user.avatar + ".png?size=40'> <i>" + user.username + "</i>";
            } catch {
                console.log('[Discord] Failed to replace avatar component, probably doesnt exists...');
            }


            // online stat
            var html_status = document.getElementById("discord-status");
            var color = ""

            switch (status) {
                case 'online': html_status.text = "online"; color = "color: green;"; break;
                case 'idle': html_status.text = "idling"; color = "color: yellow;"; break;
                case 'dnd': html_status.text = "dnd"; color = "color: red;"; break;
                case 'offline': html_status.text = "offline"; color = "color: gray;"; break;
            }

            try {
                document.getElementById("discord-status-about").text = html_status.text;
                document.getElementById("discord-status-about").style = color;
            } catch {
                console.log('[Discord] Failed to replace name component, probably doesnt exists...');
            }

            html_status.style = color;

            console.log(html_status);
        }
    }

    req.send();
</script>
</body>

</html>
